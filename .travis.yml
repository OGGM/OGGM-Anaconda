language: generic
sudo: required
dist: trusty
addons:
  apt:
    packages:
      - ca-certificates
env:
  global:
    - secure: "GBRVgHZaHgt8Qof6WQ/3D0yX2nOa7h5vDTFy4ELbC7d2OT1zce5OscD8RBW5HufA+L+ITBoAyqdyNW6wdRdloaBMM/O/qp5bNXbpohzMe3D2Vn4Rm/HBOMYMvMeIxKxlguDurwrrnZdEMkwa9Yh63SEgtwnDIftSurCChI2FmVK38VNkIhjr50UOyPEIReI38DZtO56qIyv8YlH+4YTgHiGR1Id3ftPztUxxO59NKg7OuG1LOjz3JLmcNdH2Vh3DlYzGx5vm7rU6XCv0UqWu8zPCW9w5ITk6iT6FzGadpsaTnGR7IFChnEzlalfBa51Hrdf40ks9g38eGbtRUQ58qhuoKCjaBFXYEqgU+yydey5FWD3Yf9t8PM8KcNW1Dq23+pev0GdaZ73GrznR1yE5yUj4POkqiwEGLHpns6GjR/BKz5E+oUEdWgsX3/qOcvpnwdkoHQbNa8QkP/Ua4h37uJu8LMYijF71Jt+B6x/hCEMc+IsRhEkznXqoNzD241epA+49VuUl5Sp9XXp6XfbEuC6jH/rGbXeqv5394cZeBcN9jCY2B6FGVk4Wwff32v2GdmbK1UXXWyMv0xjN/IHXJpdGXqvaz8s6CyAMbHi9lp9mmLAuYKCCX+5SzTgRBgerHNESzA10kJrr7MrV2+5iVHeRyzLMctO0NCsIrUQ6NpI="
jobs:
  fast_finish: true
  allow_failures:
    - env: CONDA_BUILD_PY=3.7
    - os: windows
  include:
    - stage: motionless
      script: ./ci/travis_stage_script.sh motionless
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=motionless
      os: linux
    - stage: motionless
      script: ./ci/travis_stage_script.sh motionless
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=motionless
      os: linux
    - stage: motionless
      script: ./ci/travis_stage_script.sh motionless
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=motionless
      os: linux
    - stage: motionless
      script: ./ci/travis_stage_script.sh motionless
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=motionless
      os: osx
      osx_image: xcode10
    - stage: motionless
      script: ./ci/travis_stage_script.sh motionless
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=motionless
      os: osx
      osx_image: xcode10
    - stage: motionless
      script: ./ci/travis_stage_script.sh motionless
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=motionless
      os: osx
      osx_image: xcode10
    - stage: motionless
      script: ./ci/travis_stage_script.sh motionless
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=motionless
      os: windows
    - stage: motionless
      script: ./ci/travis_stage_script.sh motionless
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=motionless
      os: windows
    - stage: motionless
      script: ./ci/travis_stage_script.sh motionless
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=motionless
      os: windows
    - stage: salem
      script: ./ci/travis_stage_script.sh salem
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=salem
      os: linux
    - stage: salem
      script: ./ci/travis_stage_script.sh salem
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=salem
      os: linux
    - stage: salem
      script: ./ci/travis_stage_script.sh salem
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=salem
      os: linux
    - stage: salem
      script: ./ci/travis_stage_script.sh salem
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=salem
      os: osx
      osx_image: xcode10
    - stage: salem
      script: ./ci/travis_stage_script.sh salem
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=salem
      os: osx
      osx_image: xcode10
    - stage: salem
      script: ./ci/travis_stage_script.sh salem
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=salem
      os: osx
      osx_image: xcode10
    - stage: salem
      script: ./ci/travis_stage_script.sh salem
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=salem
      os: windows
    - stage: salem
      script: ./ci/travis_stage_script.sh salem
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=salem
      os: windows
    - stage: salem
      script: ./ci/travis_stage_script.sh salem
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=salem
      os: windows
    - stage: pytest-mpl
      script: ./ci/travis_stage_script.sh pytest-mpl
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=pytest-mpl
      os: linux
    - stage: pytest-mpl
      script: ./ci/travis_stage_script.sh pytest-mpl
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=pytest-mpl
      os: linux
    - stage: pytest-mpl
      script: ./ci/travis_stage_script.sh pytest-mpl
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=pytest-mpl
      os: linux
    - stage: pytest-mpl
      script: ./ci/travis_stage_script.sh pytest-mpl
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=pytest-mpl
      os: osx
      osx_image: xcode10
    - stage: pytest-mpl
      script: ./ci/travis_stage_script.sh pytest-mpl
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=pytest-mpl
      os: osx
      osx_image: xcode10
    - stage: pytest-mpl
      script: ./ci/travis_stage_script.sh pytest-mpl
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=pytest-mpl
      os: osx
      osx_image: xcode10
    - stage: pytest-mpl
      script: ./ci/travis_stage_script.sh pytest-mpl
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=pytest-mpl
      os: windows
    - stage: pytest-mpl
      script: ./ci/travis_stage_script.sh pytest-mpl
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=pytest-mpl
      os: windows
    - stage: pytest-mpl
      script: ./ci/travis_stage_script.sh pytest-mpl
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=pytest-mpl
      os: windows
    - stage: oggm-deps
      script: ./ci/travis_stage_script.sh oggm-deps
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=oggm-deps
      os: linux
    - stage: oggm-deps
      script: ./ci/travis_stage_script.sh oggm-deps
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=oggm-deps
      os: linux
    - stage: oggm-deps
      script: ./ci/travis_stage_script.sh oggm-deps
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=oggm-deps
      os: linux
    - stage: oggm-deps
      script: ./ci/travis_stage_script.sh oggm-deps
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=oggm-deps
      os: osx
      osx_image: xcode10
    - stage: oggm-deps
      script: ./ci/travis_stage_script.sh oggm-deps
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=oggm-deps
      os: osx
      osx_image: xcode10
    - stage: oggm-deps
      script: ./ci/travis_stage_script.sh oggm-deps
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=oggm-deps
      os: osx
      osx_image: xcode10
    - stage: oggm-deps
      script: ./ci/travis_stage_script.sh oggm-deps
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=oggm-deps
      os: windows
    - stage: oggm-deps
      script: ./ci/travis_stage_script.sh oggm-deps
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=oggm-deps
      os: windows
    - stage: oggm-deps
      script: ./ci/travis_stage_script.sh oggm-deps
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=oggm-deps
      os: windows
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggm
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=oggm
      os: linux
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggm
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=oggm
      os: linux
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggm
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=oggm
      os: osx
      osx_image: xcode10
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggm
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=oggm
      os: osx
      osx_image: xcode10
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggm
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=oggm
      os: windows
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggm
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=oggm
      os: windows
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggmdev
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=oggmdev
      os: linux
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggmdev
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=oggmdev
      os: linux
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggmdev
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=oggmdev
      os: linux
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggmdev
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=oggmdev
      os: osx
      osx_image: xcode10
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggmdev
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=oggmdev
      os: osx
      osx_image: xcode10
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggmdev
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=oggmdev
      os: osx
      osx_image: xcode10
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggmdev
      env: CONDA_BUILD_PY=3.5 SUB_STAGE=oggmdev
      os: windows
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggmdev
      env: CONDA_BUILD_PY=3.6 SUB_STAGE=oggmdev
      os: windows
    - stage: oggm
      script: ./ci/travis_stage_script.sh oggmdev
      env: CONDA_BUILD_PY=3.7 SUB_STAGE=oggmdev
      os: windows
